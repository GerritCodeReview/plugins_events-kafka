{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5012ba7b_a15450b3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 20
      },
      "lineNbr": 19,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-09-07T12:32:15Z",
      "side": 1,
      "message": "Is there an issue number?",
      "revId": "4ede7ffc588bfb89b885fea5594101327f6527ab",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a716b3eb_d01323f0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 20
      },
      "lineNbr": 19,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-09-07T12:44:11Z",
      "side": 1,
      "message": "I think we need to create it because the topic is complex and it would help. @maczech@gmail.com and I will create it.",
      "parentUuid": "5012ba7b_a15450b3",
      "revId": "4ede7ffc588bfb89b885fea5594101327f6527ab",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "586939c9_074ee026",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/kafka/api/KafkaApiModule.java",
        "patchSetId": 20
      },
      "lineNbr": 56,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-09-07T12:31:33Z",
      "side": 1,
      "message": "```suggestion\n  void setBrokerApi(DynamicItem\u003cBrokerApi\u003e brokerApi) {\n```",
      "revId": "4ede7ffc588bfb89b885fea5594101327f6527ab",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f74056cd_d6777831",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/kafka/api/KafkaApiModule.java",
        "patchSetId": 20
      },
      "lineNbr": 56,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-09-07T12:44:11Z",
      "side": 1,
      "message": "That signature has not been added as a part of this change.",
      "parentUuid": "586939c9_074ee026",
      "revId": "4ede7ffc588bfb89b885fea5594101327f6527ab",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b88c79f7_02efcb16",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/kafka/api/KafkaApiModule.java",
        "patchSetId": 20
      },
      "lineNbr": 56,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-09-07T12:59:45Z",
      "side": 1,
      "message": "Weird, it tells me that the method was renamed from `setPreviousBrokerApi` to `setBrokerApi`, so it makes sense for the arg to also be renamed to something meaningful.",
      "parentUuid": "f74056cd_d6777831",
      "revId": "4ede7ffc588bfb89b885fea5594101327f6527ab",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5288ee5c_c73b9217",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/kafka/api/KafkaApiModule.java",
        "patchSetId": 20
      },
      "lineNbr": 56,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-09-07T13:12:14Z",
      "side": 1,
      "message": "Apologies, you are right. I will change it.",
      "parentUuid": "b88c79f7_02efcb16",
      "revId": "4ede7ffc588bfb89b885fea5594101327f6527ab",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a486e5f_8aa627e0",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/kafka/api/KafkaBrokerApi.java",
        "patchSetId": 20
      },
      "lineNbr": 37,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-09-07T12:31:33Z",
      "side": 1,
      "message": "I think the implementation is prone to bugs or misuse and over complicates things. That said, I am not familiar with this code at all, so maybe there\u0027s no better way to do this.\n\nIf I may suggest, wouldn\u0027t it possible to simply make the groupId in the 2 `KafkaEventSubscriber` implementations an optional string? In addition, if you change the sig of the `KafkaEventSubscriber.getGroupId` to return `Optional\u003cString\u003e` then I think you can keep just one `subscribers` list, because you can then filter on that optional group id to get the subscribers with/without a group id. WDYT?",
      "revId": "4ede7ffc588bfb89b885fea5594101327f6527ab",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28e67885_1c00671d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/kafka/api/KafkaBrokerApi.java",
        "patchSetId": 20
      },
      "lineNbr": 37,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-09-07T12:44:11Z",
      "side": 1,
      "message": "Actually if you read in one of the comments below, I mentioned something like that as an alternative.\n\nI am happy to go to that approach but please, can you explain that statement:\n\n\u003e I think the implementation is prone to bugs or misuse and over complicates things",
      "parentUuid": "0a486e5f_8aa627e0",
      "revId": "4ede7ffc588bfb89b885fea5594101327f6527ab",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9471ada6_1e52c398",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/kafka/api/KafkaBrokerApi.java",
        "patchSetId": 20
      },
      "lineNbr": 37,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-09-07T12:59:45Z",
      "side": 1,
      "message": "I simply mean that by maintaining two lists of essentially the same thing, you are now forced to keep track of both, on every possible operation (eg. replays, disconnects/teardowns etc), and it becomes very easy to forget to \"apply\" that operation to both. In addition, because they both contain the same type of element, it is not clear why we need both, hence when opening the class for further changes, the semantics can be confusing for other contributors.",
      "parentUuid": "28e67885_1c00671d",
      "revId": "4ede7ffc588bfb89b885fea5594101327f6527ab",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9ed223b6_1489b1ed",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/kafka/api/KafkaBrokerApi.java",
        "patchSetId": 20
      },
      "lineNbr": 37,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-09-07T13:06:01Z",
      "side": 1,
      "message": "Makes sense. I will have a look at the other approach.",
      "parentUuid": "9471ada6_1e52c398",
      "revId": "4ede7ffc588bfb89b885fea5594101327f6527ab",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4378c2f3_60006d8e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/kafka/api/KafkaBrokerApi.java",
        "patchSetId": 20
      },
      "lineNbr": 37,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-09-07T14:23:09Z",
      "side": 1,
      "message": "I have done a first approach. \n\nI have to say that everything is a bit misleading. All Kafka Consumers have consumer\u0027s group id. Here the difference is if the group id is loaded from configuration file or set explicitly. Maybe some refactoring in the way we construct `KafkaEventNativeSubscriber` and `KafkaEventRestSubscriber` would improve things a lot.",
      "parentUuid": "9ed223b6_1489b1ed",
      "revId": "4ede7ffc588bfb89b885fea5594101327f6527ab",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}